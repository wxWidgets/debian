<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!--BEGIN PROJECT_NAME--><title>wxWidgets: wxWidgets: wxCloseEvent Class Reference</title><!--END PROJECT_NAME-->
<!--BEGIN !PROJECT_NAME--><title>wxWidgets: wxCloseEvent Class Reference</title><!--END !PROJECT_NAME-->
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css" />
$treeview
$search
$mathjax
</head>
<body>
<div id="top"><!-- do not remove this div! -->

<!--BEGIN TITLEAREA-->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr>
  <!--BEGIN PROJECT_LOGO-->
  <td id="projectlogo"><a href="http://www.wxwidgets.org/" target="_new"><img alt="Logo" src="$projectlogo"/></a></td>
  <!--END PROJECT_LOGO-->
  <td style="padding: 0.5em; text-align: right;">
   <!--BEGIN PROJECT_NUMBER--><span id="projectnumber">Version: 2.9.3</span><!--END PROJECT_NUMBER-->
  </td>
  <!--BEGIN DISABLE_INDEX-->
   <!--BEGIN SEARCHENGINE-->
   <td>$searchbox</td>
   <!--END SEARCHENGINE-->
  <!--END DISABLE_INDEX-->
 </tr>
 </tbody>
</table>
</div>
<!--END TITLEAREA-->
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>wxCloseEvent Class Reference<br/>
<small>
[<a class="el" href="group__group__class__events.html">Events</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="wxCloseEvent" --><!-- doxytag: inherits="wxEvent" -->
<p><code>#include &lt;/home/projects/wx/2.9/wx/interface/wx/event.h&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for wxCloseEvent:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classwx_close_event__inherit__graph.png" border="0" usemap="#wx_close_event_inherit__map" alt="Inheritance graph"/></div>
<map name="wx_close_event_inherit__map" id="wx_close_event_inherit__map">
<area shape="rect" id="node2" href="classwx_event.html" title="An event is a structure holding information about an event passed to a callback or member function..." alt="" coords="23,86,92,117"/><area shape="rect" id="node4" href="classwx_object.html" title="This is the root class of many of the wxWidgets classes." alt="" coords="20,6,95,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This event class contains information about window and session close events. </p>
<p>The handler function for EVT_CLOSE is called when the user has tried to close a a frame or dialog box using the window manager (X) or system menu (Windows). It can also be invoked by the application itself programmatically, for example by calling the <a class="el" href="classwx_window.html#a3e44f4a494fc9ef4346c4fba70c8de0c" title="This function simply generates a wxCloseEvent whose handler usually tries to close the window...">wxWindow::Close</a> function.</p>
<p>You should check whether the application is forcing the deletion of the window using <a class="el" href="classwx_close_event.html#adaa0548df45e05e8487cc5664ac352cf" title="Returns true if you can veto a system shutdown or a window close event.">wxCloseEvent::CanVeto</a>. If this is <span class="literal">false</span>, you <em>must</em> destroy the window using <a class="el" href="classwx_window.html#a6bf0c5be864544d9ce0560087667b7fc" title="Destroys the window safely.">wxWindow::Destroy</a>.</p>
<p>If the return value is <span class="literal">true</span>, it is up to you whether you respond by destroying the window.</p>
<p>If you don't destroy the window, you should call <a class="el" href="classwx_close_event.html#a0ec337c77613d5d8407831cd64e16417" title="Call this from your event handler to veto a system shutdown or to signal to the calling application t...">wxCloseEvent::Veto</a> to let the calling code know that you did not destroy the window. This allows the <a class="el" href="classwx_window.html#a3e44f4a494fc9ef4346c4fba70c8de0c" title="This function simply generates a wxCloseEvent whose handler usually tries to close the window...">wxWindow::Close</a> function to return <span class="literal">true</span> or <span class="literal">false</span> depending on whether the close instruction was honoured or not.</p>
<p>Example of a <a class="el" href="classwx_close_event.html" title="This event class contains information about window and session close events.">wxCloseEvent</a> handler:</p>
<div class="fragment"><pre class="fragment">        <span class="keywordtype">void</span> MyFrame::OnClose(<a class="code" href="classwx_close_event.html" title="This event class contains information about window and session close events.">wxCloseEvent</a>&amp; event)
        {
            <span class="keywordflow">if</span> ( event.<a class="code" href="classwx_close_event.html#adaa0548df45e05e8487cc5664ac352cf" title="Returns true if you can veto a system shutdown or a window close event.">CanVeto</a>() &amp;&amp; m_bFileNotSaved )
            {
                <span class="keywordflow">if</span> ( <a class="code" href="group__group__funcmacro__dialog.html#gaf8a6b7e1e34eae82d3d75e3721298b26" title="Show a general purpose message dialog.">wxMessageBox</a>(<span class="stringliteral">&quot;The file has not been saved... continue closing?&quot;</span>,
                                  <span class="stringliteral">&quot;Please confirm&quot;</span>,
                                  <a class="code" href="defs_8h.html#a01d0612a961327f6038a91e5f94fa44a">wxICON_QUESTION</a> | <a class="code" href="defs_8h.html#a5ba00a09cea0417a2ef7c4a4c2b0012c">wxYES_NO</a>) != wxYES )
                {
                    <span class="keyword">event</span>.Veto();
                    <span class="keywordflow">return</span>;
                }
            }

            Destroy();  <span class="comment">// you may also do:  event.Skip();</span>
                        <span class="comment">// since the default event handler does call Destroy(), too</span>
        }
</pre></div><p>The EVT_END_SESSION event is slightly different as it is sent by the system when the user session is ending (e.g. because of log out or shutdown) and so all windows are being forcefully closed. At least under MSW, after the handler for this event is executed the program is simply killed by the system. Because of this, the default handler for this event provided by wxWidgets calls all the usual cleanup code (including <a class="el" href="classwx_app_console.html#a5ee60051c92b0b2933258799626a0485" title="Override this member function for any processing which needs to be done as the application is about t...">wxApp::OnExit()</a>) so that it could still be executed and exit()s the process itself, without waiting for being killed. If this behaviour is for some reason undesirable, make sure that you define a handler for this event in your wxApp-derived class and do not call <code>event.Skip()</code> in it (but be aware that the system will still kill your application).</p>
<h2>Events using this class</h2>
<p>The following event handler macros redirect the events to member function handlers '<b>func</b>' with prototypes like: </p>
<div class="eventHandler"><span>void&nbsp;handlerFuncName(<a class="el" href="classwx_close_event.html" title="This event class contains information about window and session close events.">wxCloseEvent</a>&amp;&nbsp;event)</span></div><p>Event macros:</p>
<div> </div><ul>
<li><span class="event">EVT_CLOSE(func)</span>:<div class="eventDesc"> Process a <code>wxEVT_CLOSE_WINDOW</code> command event, supplying the member function. This event applies to <a class="el" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user.">wxFrame</a> and <a class="el" href="classwx_dialog.html" title="A dialog box is a window with a title bar and sometimes a system menu, which can be moved around the ...">wxDialog</a> classes. </div></li>
<li><span class="event">EVT_QUERY_END_SESSION(func)</span>:<div class="eventDesc"> Process a <code>wxEVT_QUERY_END_SESSION</code> session event, supplying the member function. This event can be handled in wxApp-derived class only. </div></li>
<li><span class="event">EVT_END_SESSION(func)</span>:<div class="eventDesc"> Process a <code>wxEVT_END_SESSION</code> session event, supplying the member function. This event can be handled in wxApp-derived class only. </div></li>
</ul>
<h2></h2>
<div><span class="lib">Library:</span>&nbsp;&nbsp;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxcore">wxCore</a></span></div><div><span class="category">Category:</span>&nbsp;&nbsp;<span class="category_text"><a class="el" href="group__group__class__events.html">Events</a></span></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classwx_window.html#a3e44f4a494fc9ef4346c4fba70c8de0c" title="This function simply generates a wxCloseEvent whose handler usually tries to close the window...">wxWindow::Close</a>, <a class="el" href="overview_windowdeletion.html">Window Deletion</a> </dd></dl>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_close_event.html#a5955c62800e7f4b0f046b9123705cffe">wxCloseEvent</a> (<a class="el" href="group__group__funcmacro__events.html#ga6a7fd172612c0d6d9029bfa3aa91aca0">wxEventType</a> commandEventType=<a class="el" href="group__group__funcmacro__events.html#ga310bc3f7977ae79ac1198c7a287dbffe">wxEVT_NULL</a>, int id=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a5955c62800e7f4b0f046b9123705cffe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_close_event.html#adaa0548df45e05e8487cc5664ac352cf">CanVeto</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <span class="literal">true</span> if you can veto a system shutdown or a window close event.  <a href="#adaa0548df45e05e8487cc5664ac352cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_close_event.html#a59874843bd46af10ea3e8abcecf71e26">GetLoggingOff</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <span class="literal">true</span> if the user is just logging off or <span class="literal">false</span> if the system is shutting down.  <a href="#a59874843bd46af10ea3e8abcecf71e26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_close_event.html#a25150c209983febf02b80a6f93dfc6ba">SetCanVeto</a> (bool canVeto)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the 'can veto' flag.  <a href="#a25150c209983febf02b80a6f93dfc6ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_close_event.html#af8059e703d942f5962a0b2f6dedc3bd6">SetLoggingOff</a> (bool loggingOff)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the 'logging off' flag.  <a href="#af8059e703d942f5962a0b2f6dedc3bd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_close_event.html#a0ec337c77613d5d8407831cd64e16417">Veto</a> (bool veto=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call this from your event handler to veto a system shutdown or to signal to the calling application that a window close did not happen.  <a href="#a0ec337c77613d5d8407831cd64e16417"></a><br/></td></tr>
</table>

<p><a href="classwx_close_event-members.html">List of all members.</a></p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5955c62800e7f4b0f046b9123705cffe"></a><!-- doxytag: member="wxCloseEvent::wxCloseEvent" ref="a5955c62800e7f4b0f046b9123705cffe" args="(wxEventType commandEventType=wxEVT_NULL, int id=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxCloseEvent::wxCloseEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__funcmacro__events.html#ga6a7fd172612c0d6d9029bfa3aa91aca0">wxEventType</a>&nbsp;</td>
          <td class="paramname"> <em>commandEventType</em> = <code><a class="el" href="group__group__funcmacro__events.html#ga310bc3f7977ae79ac1198c7a287dbffe">wxEVT_NULL</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="adaa0548df45e05e8487cc5664ac352cf"></a><!-- doxytag: member="wxCloseEvent::CanVeto" ref="adaa0548df45e05e8487cc5664ac352cf" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wxCloseEvent::CanVeto </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns <span class="literal">true</span> if you can veto a system shutdown or a window close event. </p>
<p>Vetoing a window close event is not possible if the calling code wishes to force the application to exit, and so this function must be called to check this. </p>

</div>
</div>
<a class="anchor" id="a59874843bd46af10ea3e8abcecf71e26"></a><!-- doxytag: member="wxCloseEvent::GetLoggingOff" ref="a59874843bd46af10ea3e8abcecf71e26" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wxCloseEvent::GetLoggingOff </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns <span class="literal">true</span> if the user is just logging off or <span class="literal">false</span> if the system is shutting down. </p>
<p>This method can only be called for end session and query end session events, it doesn't make sense for close window event. </p>

</div>
</div>
<a class="anchor" id="a25150c209983febf02b80a6f93dfc6ba"></a><!-- doxytag: member="wxCloseEvent::SetCanVeto" ref="a25150c209983febf02b80a6f93dfc6ba" args="(bool canVeto)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wxCloseEvent::SetCanVeto </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>canVeto</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the 'can veto' flag. </p>

</div>
</div>
<a class="anchor" id="af8059e703d942f5962a0b2f6dedc3bd6"></a><!-- doxytag: member="wxCloseEvent::SetLoggingOff" ref="af8059e703d942f5962a0b2f6dedc3bd6" args="(bool loggingOff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wxCloseEvent::SetLoggingOff </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>loggingOff</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the 'logging off' flag. </p>

</div>
</div>
<a class="anchor" id="a0ec337c77613d5d8407831cd64e16417"></a><!-- doxytag: member="wxCloseEvent::Veto" ref="a0ec337c77613d5d8407831cd64e16417" args="(bool veto=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wxCloseEvent::Veto </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>veto</em> = <code>true</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Call this from your event handler to veto a system shutdown or to signal to the calling application that a window close did not happen. </p>
<p>You can only veto a shutdown if <a class="el" href="classwx_close_event.html#adaa0548df45e05e8487cc5664ac352cf" title="Returns true if you can veto a system shutdown or a window close event.">CanVeto()</a> returns <span class="literal">true</span>. </p>

</div>
</div>
</div>
<!--BEGIN GENERATE_TREEVIEW-->
    <li class="footer">
    	Page generated on Tue Dec 27 2011 19:36:06 by <!--[Doxygen 1.7.6+] $generatedby -->
    	<a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.7.1</li>
   </ul>
 </div>
<!--END GENERATE_TREEVIEW-->
<!--BEGIN !GENERATE_TREEVIEW-->
<hr class="footer"/>
<address class="footer">
	<small>
		Page generated on Tue Dec 27 2011 19:36:06 by <!--[Doxygen 1.7.6+] $generatedby -->
		<a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.7.1
	</small>
</address>
<!--END !GENERATE_TREEVIEW-->

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>
