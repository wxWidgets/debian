<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!--BEGIN PROJECT_NAME--><title>wxWidgets: wxWidgets: wxDataObjectComposite Class Reference</title><!--END PROJECT_NAME-->
<!--BEGIN !PROJECT_NAME--><title>wxWidgets: wxDataObjectComposite Class Reference</title><!--END !PROJECT_NAME-->
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css" />
$treeview
$search
$mathjax
</head>
<body>
<div id="top"><!-- do not remove this div! -->

<!--BEGIN TITLEAREA-->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr>
  <!--BEGIN PROJECT_LOGO-->
  <td id="projectlogo"><a href="http://www.wxwidgets.org/" target="_new"><img alt="Logo" src="$projectlogo"/></a></td>
  <!--END PROJECT_LOGO-->
  <td style="padding: 0.5em; text-align: right;">
   <!--BEGIN PROJECT_NUMBER--><span id="projectnumber">Version: 2.9.3</span><!--END PROJECT_NUMBER-->
  </td>
  <!--BEGIN DISABLE_INDEX-->
   <!--BEGIN SEARCHENGINE-->
   <td>$searchbox</td>
   <!--END SEARCHENGINE-->
  <!--END DISABLE_INDEX-->
 </tr>
 </tbody>
</table>
</div>
<!--END TITLEAREA-->
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>wxDataObjectComposite Class Reference<br/>
<small>
[<a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="wxDataObjectComposite" --><!-- doxytag: inherits="wxDataObject" -->
<p><code>#include &lt;/home/projects/wx/2.9/wx/interface/wx/dataobj.h&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for wxDataObjectComposite:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classwx_data_object_composite__inherit__graph.png" border="0" usemap="#wx_data_object_composite_inherit__map" alt="Inheritance graph"/></div>
<map name="wx_data_object_composite_inherit__map" id="wx_data_object_composite_inherit__map">
<area shape="rect" id="node2" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped..." alt="" coords="37,6,139,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classwx_data_object_composite.html" title="wxDataObjectComposite is the simplest wxDataObject derivation which may be used to support multiple f...">wxDataObjectComposite</a> is the simplest <a class="el" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped...">wxDataObject</a> derivation which may be used to support multiple formats. </p>
<p>It contains several <a class="el" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class.">wxDataObjectSimple</a> objects and supports any format supported by at least one of them. Only one of these data objects is <em>preferred</em> (the first one if not explicitly changed by using the second parameter of <a class="el" href="classwx_data_object_composite.html#a7406b1fbd05e00de815e03eab39d1ce3" title="Adds the dataObject to the list of supported objects and it becomes the preferred object if preferred...">Add()</a>) and its format determines the preferred format of the composite data object as well.</p>
<p>See <a class="el" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped...">wxDataObject</a> documentation for the reasons why you might prefer to use <a class="el" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped...">wxDataObject</a> directly instead of <a class="el" href="classwx_data_object_composite.html" title="wxDataObjectComposite is the simplest wxDataObject derivation which may be used to support multiple f...">wxDataObjectComposite</a> for efficiency reasons.</p>
<p>This example shows how a composite data object capable of storing either bitmaps or file names (presumably of bitmap files) can be initialized and used:</p>
<div class="fragment"><pre class="fragment">    MyDropTarget::MyDropTarget()
    {
        <a class="code" href="classwx_data_object_composite.html" title="wxDataObjectComposite is the simplest wxDataObject derivation which may be used to support multiple f...">wxDataObjectComposite</a>* dataobj = <span class="keyword">new</span> <a class="code" href="classwx_data_object_composite.html" title="wxDataObjectComposite is the simplest wxDataObject derivation which may be used to support multiple f...">wxDataObjectComposite</a>();
        dataobj-&gt;<a class="code" href="classwx_data_object_composite.html#a7406b1fbd05e00de815e03eab39d1ce3" title="Adds the dataObject to the list of supported objects and it becomes the preferred object if preferred...">Add</a>(<span class="keyword">new</span> <a class="code" href="classwx_bitmap_data_object.html" title="wxBitmapDataObject is a specialization of wxDataObject for bitmap data.">wxBitmapDataObject</a>(), <span class="keyword">true</span>);
        dataobj-&gt;<a class="code" href="classwx_data_object_composite.html#a7406b1fbd05e00de815e03eab39d1ce3" title="Adds the dataObject to the list of supported objects and it becomes the preferred object if preferred...">Add</a>(<span class="keyword">new</span> <a class="code" href="classwx_file_data_object.html" title="wxFileDataObject is a specialization of wxDataObject for file names.">wxFileDataObject</a>());
        SetDataObject(dataobj);
    }

    <a class="code" href="interface_2wx_2dnd_8h.html#adbd4b292582eebbc9a6ce3dee31c2afb" title="Result returned from a wxDropSource::DoDragDrop() call.">wxDragResult</a> MyDropTarget::OnData(<a class="code" href="defs_8h.html#a11f6efc0e8d8d680f3ec8e82aa4f1770" title="The type for screen and DC coordinates.">wxCoord</a> x, <a class="code" href="defs_8h.html#a11f6efc0e8d8d680f3ec8e82aa4f1770" title="The type for screen and DC coordinates.">wxCoord</a> y,
                                      <a class="code" href="interface_2wx_2dnd_8h.html#adbd4b292582eebbc9a6ce3dee31c2afb" title="Result returned from a wxDropSource::DoDragDrop() call.">wxDragResult</a> defaultDragResult)
    {
        <a class="code" href="interface_2wx_2dnd_8h.html#adbd4b292582eebbc9a6ce3dee31c2afb" title="Result returned from a wxDropSource::DoDragDrop() call.">wxDragResult</a> dragResult = <a class="code" href="classwx_drop_target.html#a5c27f66d59eb89ab7e014fd153ace093" title="Called after OnDrop() returns true.">wxDropTarget::OnData</a>(x, y, defaultDragResult);
        <span class="keywordflow">if</span> ( dragResult == defaultDragResult )
        {
            <a class="code" href="classwx_data_object_composite.html" title="wxDataObjectComposite is the simplest wxDataObject derivation which may be used to support multiple f...">wxDataObjectComposite</a> *
                dataobjComp = <span class="keyword">static_cast&lt;</span><a class="code" href="classwx_data_object_composite.html" title="wxDataObjectComposite is the simplest wxDataObject derivation which may be used to support multiple f...">wxDataObjectComposite</a> *<span class="keyword">&gt;</span>(GetDataObject());

            <a class="code" href="classwx_data_format.html" title="A wxDataFormat is an encapsulation of a platform-specific format handle which is used by the system f...">wxDataFormat</a> format = dataObjects-&gt;GetReceivedFormat();
            <a class="code" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped...">wxDataObject</a> *dataobj = dataobjComp-&gt;<a class="code" href="classwx_data_object_composite.html#a79c0d3dd9703c3cf8971985cabded947" title="Returns the pointer to the object which supports the passed format for the specified direction...">GetObject</a>(format);
            <span class="keywordflow">switch</span> ( format.<a class="code" href="classwx_data_format.html#a0747b4235e1df0e2eead9cba3bbc53e9" title="Returns the platform-specific number identifying the format.">GetType</a>() )
            {
                <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a263109c79f708754bf656c7768b27047ae1d6387170c0a07291a9f4cfdf49a7ad">wxDF_BITMAP</a>:
                    {
                        <a class="code" href="classwx_bitmap_data_object.html" title="wxBitmapDataObject is a specialization of wxDataObject for bitmap data.">wxBitmapDataObject</a> *
                            dataobjBitmap = <span class="keyword">static_cast&lt;</span><a class="code" href="classwx_bitmap_data_object.html" title="wxBitmapDataObject is a specialization of wxDataObject for bitmap data.">wxBitmapDataObject</a> *<span class="keyword">&gt;</span>(dataobj);

                        ... use dataobj-&gt;GetBitmap() ...
                    }
                    <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a263109c79f708754bf656c7768b27047a83150f31394d4311138cc5c9b36fa325">wxDF_FILENAME</a>:
                    {
                        <a class="code" href="classwx_file_data_object.html" title="wxFileDataObject is a specialization of wxDataObject for file names.">wxFileDataObject</a> *
                            dataobjFile = <span class="keyword">static_cast&lt;</span><a class="code" href="classwx_file_data_object.html" title="wxFileDataObject is a specialization of wxDataObject for file names.">wxFileDataObject</a> *<span class="keyword">&gt;</span>(dataobj);

                        ... use dataobj-&gt;GetFilenames() ...
                    }
                    <span class="keywordflow">break</span>;

                <span class="keywordflow">default</span>:
                    <a class="code" href="group__group__funcmacro__debug.html#ga4d129eca8fff062a65dec065edca085e" title="Will always generate an assert error with specified message if this code is reached (in debug mode)...">wxFAIL_MSG</a>( <span class="stringliteral">&quot;unexpected data object format&quot;</span> );
            }
        }

        <span class="keywordflow">return</span> dragResult;
    }
</pre></div><h2></h2>
<div><span class="lib">Library:</span>&nbsp;&nbsp;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxcore">wxCore</a></span></div><div><span class="category">Category:</span>&nbsp;&nbsp;<span class="category_text"><a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a></span></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="overview_dnd.html">Drag and Drop Overview</a>, <a class="el" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped...">wxDataObject</a>, <a class="el" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class.">wxDataObjectSimple</a>, <a class="el" href="classwx_file_data_object.html" title="wxFileDataObject is a specialization of wxDataObject for file names.">wxFileDataObject</a>, <a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a>, <a class="el" href="classwx_bitmap_data_object.html" title="wxBitmapDataObject is a specialization of wxDataObject for bitmap data.">wxBitmapDataObject</a> </dd></dl>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object_composite.html#a711cfefddb7e091d56f87be3b2d0bcb8">wxDataObjectComposite</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The default constructor.  <a href="#a711cfefddb7e091d56f87be3b2d0bcb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object_composite.html#a7406b1fbd05e00de815e03eab39d1ce3">Add</a> (<a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> *dataObject, bool preferred=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds the <em>dataObject</em> to the list of supported objects and it becomes the preferred object if <em>preferred</em> is <span class="literal">true</span>.  <a href="#a7406b1fbd05e00de815e03eab39d1ce3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwx_data_format.html">wxDataFormat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object_composite.html#a0b2565e0e231a32ce01493eecb55ccea">GetReceivedFormat</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Report the format passed to the <a class="el" href="classwx_data_object.html#ab73fa5f1cb933c67df20ddb1fad99071" title="Set the data in the format format of the length len provided in the buffer buf.">SetData()</a> method.  <a href="#a0b2565e0e231a32ce01493eecb55ccea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_data_object_composite.html#a79c0d3dd9703c3cf8971985cabded947">GetObject</a> (const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;format, wxDataObjectBase::Direction dir=Get) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the pointer to the object which supports the passed format for the specified direction.  <a href="#a79c0d3dd9703c3cf8971985cabded947"></a><br/></td></tr>
</table>

<p><a href="classwx_data_object_composite-members.html">List of all members.</a></p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a711cfefddb7e091d56f87be3b2d0bcb8"></a><!-- doxytag: member="wxDataObjectComposite::wxDataObjectComposite" ref="a711cfefddb7e091d56f87be3b2d0bcb8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxDataObjectComposite::wxDataObjectComposite </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The default constructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7406b1fbd05e00de815e03eab39d1ce3"></a><!-- doxytag: member="wxDataObjectComposite::Add" ref="a7406b1fbd05e00de815e03eab39d1ce3" args="(wxDataObjectSimple *dataObject, bool preferred=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wxDataObjectComposite::Add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a> *&nbsp;</td>
          <td class="paramname"> <em>dataObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>preferred</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds the <em>dataObject</em> to the list of supported objects and it becomes the preferred object if <em>preferred</em> is <span class="literal">true</span>. </p>

</div>
</div>
<a class="anchor" id="a79c0d3dd9703c3cf8971985cabded947"></a><!-- doxytag: member="wxDataObjectComposite::GetObject" ref="a79c0d3dd9703c3cf8971985cabded947" args="(const wxDataFormat &amp;format, wxDataObjectBase::Direction dir=Get) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwx_data_object_simple.html">wxDataObjectSimple</a>* wxDataObjectComposite::GetObject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wxDataObjectBase::Direction&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the pointer to the object which supports the passed format for the specified direction. </p>
<p><span class="literal">NULL</span> is returned if the specified <em>format</em> is not supported for this direction <em>dir</em>. The returned pointer is owned by <a class="el" href="classwx_data_object_composite.html" title="wxDataObjectComposite is the simplest wxDataObject derivation which may be used to support multiple f...">wxDataObjectComposite</a> itself and shouldn't be deleted by caller.</p>
<dl class="since"><dt><b>Since:</b></dt><dd>2.9.1 </dd></dl>

</div>
</div>
<a class="anchor" id="a0b2565e0e231a32ce01493eecb55ccea"></a><!-- doxytag: member="wxDataObjectComposite::GetReceivedFormat" ref="a0b2565e0e231a32ce01493eecb55ccea" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwx_data_format.html">wxDataFormat</a> wxDataObjectComposite::GetReceivedFormat </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Report the format passed to the <a class="el" href="classwx_data_object.html#ab73fa5f1cb933c67df20ddb1fad99071" title="Set the data in the format format of the length len provided in the buffer buf.">SetData()</a> method. </p>
<p>This should be the format of the data object within the composite that received data from the clipboard or the DnD operation. You can use this method to find out what kind of data object was received. </p>

</div>
</div>
</div>
<!--BEGIN GENERATE_TREEVIEW-->
    <li class="footer">
    	Page generated on Tue Dec 27 2011 19:36:07 by <!--[Doxygen 1.7.6+] $generatedby -->
    	<a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.7.1</li>
   </ul>
 </div>
<!--END GENERATE_TREEVIEW-->
<!--BEGIN !GENERATE_TREEVIEW-->
<hr class="footer"/>
<address class="footer">
	<small>
		Page generated on Tue Dec 27 2011 19:36:07 by <!--[Doxygen 1.7.6+] $generatedby -->
		<a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.7.1
	</small>
</address>
<!--END !GENERATE_TREEVIEW-->

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>
